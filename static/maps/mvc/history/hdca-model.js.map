{"version":3,"sources":["mvc/history/hdca-model.js"],"names":["hcontentMixin","_historyContentModel2","default","HistoryContentMixin","DC","_collectionModel2","DatasetCollection","HistoryDatasetCollection","extend","defaults","_","clone","prototype","history_content_type","model_class","save","attributes","options","this","isNew","url","urlRoot","get","type","call","toString"],"mappings":"4RASIA,QAAgBC,EAAAC,QAAgBC,qBAEhCC,EAAKC,EAAAH,QAASI,kBAKdC,EAA2BH,EAAGI,OAAOR,GAAeQ,QAEhDC,SAAUC,EAAEF,OAAOE,EAAEC,MAAMP,EAAGQ,UAAUH,WAdhDI,qBAAA,qBAgBYC,YAAa,wCAKjBC,KAAM,SAASC,EAAYC,GAR/B,OANKC,KAAAC,WAgBOF,EAAUA,OAd1BG,IAAAF,KAAAG,QAAAH,KAAAI,IAAA,cAAA,aACAN,EAAAA,OAgB2BO,KAAO,sBAb9BnB,EAAAQ,UAAAG,KAAAS,KAAAN,KAAAF,EAAiDC,IACMQ,SADN,WAoBzC,MAAA,UAAiBrB,EAAGQ,UAAUa,SAASD,KAAKN,oBARxCF,yBAAaA","file":"../../../scripts/mvc/history/hdca-model.js","sourcesContent":["import DC_MODEL from \"mvc/collection/collection-model\";\nimport HISTORY_CONTENT from \"mvc/history/history-content-model\";\nimport _l from \"utils/localization\";\n\n/*==============================================================================\n\nModels for DatasetCollections contained within a history.\n\n==============================================================================*/\nvar hcontentMixin = HISTORY_CONTENT.HistoryContentMixin;\n\nvar DC = DC_MODEL.DatasetCollection;\n\n//==============================================================================\n/** @class Backbone model for List Dataset Collection within a History.\n */\nvar HistoryDatasetCollection = DC.extend(hcontentMixin).extend(\n    /** @lends HistoryDatasetCollection.prototype */ {\n        defaults: _.extend(_.clone(DC.prototype.defaults), {\n            history_content_type: \"dataset_collection\",\n            model_class: \"HistoryDatasetCollectionAssociation\"\n        }),\n\n        //==============================================================================\n        /** Override to post to contents route w/o id. */\n        save: function(attributes, options) {\n            if (this.isNew()) {\n                options = options || {};\n                options.url = `${this.urlRoot + this.get(\"history_id\")}/contents`;\n                attributes = attributes || {};\n                attributes.type = \"dataset_collection\";\n            }\n            return DC.prototype.save.call(this, attributes, options);\n        },\n\n        /** String representation. */\n        toString: function() {\n            return `History${DC.prototype.toString.call(this)}`;\n        }\n    }\n);\n\n//==============================================================================\nexport default {\n    HistoryDatasetCollection: HistoryDatasetCollection\n};\n"]}